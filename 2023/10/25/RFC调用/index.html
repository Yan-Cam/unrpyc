

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/unrpyc/img/fluid.png">
  <link rel="icon" href="/unrpyc/img/fluid.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="unrpyc">
  <meta name="keywords" content="">
  
    <meta name="description" content="RFCRFC的通信 两个独立的SAP系统之间的通信  SAP系统作为调用系统，与外部远程系统（非SAP ABAP系统）通信  外部系统作为调用系统，与SAP系统通信   RFC接口系统 ABAP程序的调用  非SAP ABAP程序的调用接口   RFC的通信模式大体上可以分为两种模式：同步和异步 同步调用的优缺点：  优点：可以及时将数据返还给发送系统  缺点：系统对话时必须保证两个系统处于活动状">
<meta property="og:type" content="article">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="https://yan-cam.github.io/unrpyc/2023/10/25/RFC%E8%B0%83%E7%94%A8/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="RFCRFC的通信 两个独立的SAP系统之间的通信  SAP系统作为调用系统，与外部远程系统（非SAP ABAP系统）通信  外部系统作为调用系统，与SAP系统通信   RFC接口系统 ABAP程序的调用  非SAP ABAP程序的调用接口   RFC的通信模式大体上可以分为两种模式：同步和异步 同步调用的优缺点：  优点：可以及时将数据返还给发送系统  缺点：系统对话时必须保证两个系统处于活动状">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://raw.githubusercontent.com/Yan-Cam/blogPictureHost/main/image-20231027212409599.png">
<meta property="og:image" content="https://raw.githubusercontent.com/Yan-Cam/blogPictureHost/main/image-20231027212454796.png">
<meta property="og:image" content="https://raw.githubusercontent.com/Yan-Cam/blogPictureHost/main/image-20231027223601855.png">
<meta property="article:published_time" content="2023-10-25T05:43:40.815Z">
<meta property="article:modified_time" content="2023-10-27T14:39:26.782Z">
<meta property="article:author" content="unrpyc">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://raw.githubusercontent.com/Yan-Cam/blogPictureHost/main/image-20231027212409599.png">
  
  
    <meta name="referrer" content="no-referrer-when-downgrade">
  
  
  <title>Hexo</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/unrpyc/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/unrpyc/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/unrpyc/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"yan-cam.github.io","root":"/unrpyc/","version":"1.9.5-a","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":{"measurement_id":null},"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/unrpyc/local-search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/unrpyc/js/utils.js" ></script>
  <script  src="/unrpyc/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 6.3.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/unrpyc/">
      <strong>UNRPYC的博客</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/unrpyc/">
                <i class="iconfont icon-home-fill"></i>
                <span>首页</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/unrpyc/archives/">
                <i class="iconfont icon-archive-fill"></i>
                <span>归档</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/unrpyc/categories/">
                <i class="iconfont icon-category-fill"></i>
                <span>分类</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/unrpyc/tags/">
                <i class="iconfont icon-tags-fill"></i>
                <span>标签</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/unrpyc/about/">
                <i class="iconfont icon-user-fill"></i>
                <span>关于</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/unrpyc/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text=""></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2023-10-25 13:43" pubdate>
          2023年10月25日 下午
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          5.5k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          47 分钟
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <h1 id="seo-header"></h1>
            
            
              <div class="markdown-body">
                
                <h1 id="RFC"><a href="#RFC" class="headerlink" title="RFC"></a>RFC</h1><h2 id="RFC的通信"><a href="#RFC的通信" class="headerlink" title="RFC的通信"></a>RFC的通信</h2><ul>
<li><p>两个独立的SAP系统之间的通信</p>
</li>
<li><p>SAP系统作为调用系统，与外部远程系统（非SAP ABAP系统）通信</p>
</li>
<li><p>外部系统作为调用系统，与SAP系统通信</p>
</li>
</ul>
<h2 id="RFC接口系统"><a href="#RFC接口系统" class="headerlink" title="RFC接口系统"></a>RFC接口系统</h2><ul>
<li><p>ABAP程序的调用</p>
</li>
<li><p>非SAP ABAP程序的调用接口</p>
</li>
</ul>
<h2 id="RFC的通信模式"><a href="#RFC的通信模式" class="headerlink" title="RFC的通信模式"></a>RFC的通信模式</h2><p>大体上可以分为两种模式：<strong>同步</strong>和<strong>异步</strong></p>
<p>同步调用的优缺点：</p>
<ul>
<li><p>优点：可以及时将数据返还给发送系统</p>
</li>
<li><p>缺点：系统对话时必须保证两个系统处于活动状态，否则对话出现中断，影响业务应用的处理</p>
</li>
</ul>
<p>异步调用的优缺点：</p>
<ul>
<li><p>优点：不需要接收系统随时可用，如系统升级、维护等不影响相应事务处理</p>
</li>
<li><p>缺点：不适用于要求及时响应的处理过程</p>
</li>
</ul>
<h2 id="不同RFC的调用形式"><a href="#不同RFC的调用形式" class="headerlink" title="不同RFC的调用形式"></a>不同RFC的调用形式</h2><h3 id="同步RFC-（sRFC-synchronous-RFC）"><a href="#同步RFC-（sRFC-synchronous-RFC）" class="headerlink" title="同步RFC （sRFC, synchronous RFC）"></a>同步RFC （sRFC, synchronous RFC）</h3><p>同步RFC（Synchronous RFC，sRFC）是最基本的RFC形式。在sRFC调用中，调用者会等待远程被调用者的处理过程。</p>
<p>调用示例</p>
<figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ada">CALL <span class="hljs-keyword">FUNCTION</span> <span class="hljs-title">func</span> DESTINATION dest. <br></code></pre></td></tr></table></figure>

<h3 id="异步RFC-（aRFC-asynchronous-RFC）"><a href="#异步RFC-（aRFC-asynchronous-RFC）" class="headerlink" title="异步RFC （aRFC, asynchronous RFC）"></a>异步RFC （aRFC, asynchronous RFC）</h3><p>在处理大数据量的工作时，ABAP提供了并行处理的机制。实现并行处理的常用方式有两种：background job的方式和asynchronous RFC (aRFC)的方式。</p>
<ul>
<li><p>If a function module returns no result, the addition <code>PERFORMING RETURN_FORM ON END OF TASK</code> can be omitted.</p>
</li>
<li><p>If an asynchronous call calls several consecutive function modules with the same destination, you must assign a different task name to each.</p>
</li>
<li><p>A calling program which starts an asynchronous RFC with PERFORMING cannot switch roll areas or change to an internal mode. This is because the asynchronous function module call reply cannot be passed on to the relevant program. You can perform a roll area switch with SUBMIT or CALL TRANSACTION.</p>
</li>
<li><p>If the calling program which has executed the asynchronous call is terminated, despite the fact that it is expecting replies, these replies from the asynchronous call cannot be delivered.</p>
</li>
<li><p>You can use the <code>WAIT</code> statement with <code>PERFORMING</code> form <code>ON END OF TASK</code> to wait for the reply to a previously started asynchronous call. In this case, <code>WAIT</code> must be in the same program context.</p>
</li>
<li><p>The program processing continues after WAIT if either the condition of a logical expression was satisfied by the subroutine that performs the task in question, or a specified time period has been exceeded. For more information on the WAIT statement, see the online help in the ABAP editor.</p>
</li>
<li><p>The key word RECEIVE occurs only with the function module call CALL FUNCTION Remotefunction <code>STARTING NEW TASK Taskname</code>. If the function module returns no results, this part need not be defined.</p>
</li>
<li><p>The effect of statement <code>SET USER-COMMAND &#39;OKCD&#39;</code> is exactly as if the user had entered the function in the command field and pressed <code>ENTER</code>. The current positioning of the list and the cursor are thus taken into account.</p>
<p>No call-backs are supported.</p>
<p>The <code>SET USER-COMMAND &#39;OKCD&#39;</code> statement replaces the <code>REFRESH SCREEN</code> command. <code>REFRESH SCREEN</code> is no longer maintained and should therefore not be used.</p>
</li>
</ul>
<p>调用示例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs ABAP">CALL FUNCTION Remotefunction<br><br>STARTING NEW TASK Taskname<br><br>DESTINATION Dest<br><br>PERFORMING RETURN_FLIGHT ON END OF TASK.<br><br>...<br><br>FORM RETURN_FLIGHT USING TASKNAME.<br><br>RECEIVE RESULTS FROM FUNCTION Remotefunction<br><br>IMPORTING F1 = a1<br><br>EXCEPTIONS SYSTEM_FAILURE MESSAGE SYSTEM_MSG.<br><br>SET USER-COMMAND &#x27;OKCD&#x27;.<br><br>ENDFORM.<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><code class="hljs ABAP">DATA: INFO LIKE RFCSI,<br><br>* Result of RFC_SYSTEM_INFO function module<br><br>MSG(80) VALUE SPACE.<br><br>* Exception handling<br><br>CALL FUNCTION &#x27;RFC_SYSTEM_INFO&#x27;<br><br>STARTING NEW TASK &#x27;INFO&#x27;<br><br>PERFORMING RETURN_INFO ON END OF TASK<br><br>EXCEPTIONS<br><br>COMMUNICATION_FAILURE = 1 MESSAGE MSG<br><br>COMMUNICATION_FAILURE = 2 MESSAGE MSG.<br><br>IF SY-SUBRC = 0.<br><br>WRITE: &#x27;Wait for response&#x27;.<br><br>ELSE.<br><br>WRITE MSG<br><br>ENDIF.<br><br>...<br><br>AT USER-COMMAND.<br><br>* Return from FORM routine RETURN_INFO via SET USER-COMMAND<br><br>IF SY-UCOMM = &#x27;OKCD&#x27;.<br><br>IF MSG = SPACE.<br><br>WRITE: &#x27;Destination =&#x27;, INFO-RFCDEST.<br><br>ELSE.<br><br>WRITE MSG.<br><br>ENDIF.<br><br>ENDIF.<br><br>...<br><br>FORM RETURN_INFO USING TASKNAME.<br><br>RECEIVE RESULTS FROM FUNCTION &#x27;RFC_SYSTEM_INFO&#x27;<br><br>IMPORTING RFCSI_EXPORT = INFO<br><br>EXCEPTIONS<br><br>COMMUNICATION_FAILURE = 1 MESSAGE MSG<br><br>SYSTEM_FAILURE = 2 MESSAGE MSG.<br><br>SET USER-COMMAND &#x27;OKCD&#x27;. &quot;Sets OK code<br><br>ENDFORM.<br></code></pre></td></tr></table></figure>

<p>在接收处理结果后，添加保持任务可防止在接收处理结果后关闭连接。：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs ABAP"><br>FORM RETURN_INFO USING TASKNAME.<br><br>RECEIVE RESULTS FROM FUNCTION &#x27;RFC_SYSTEM_INFO&#x27;<br><br>KEEPING TASK<br><br>...<br><br>ENDFORM.<br><br></code></pre></td></tr></table></figure>

<p>The relevant remote context (roll area) is kept until the caller terminates the connection. If you specify the same task name, you can re-use the remote context and roll area.</p>
<p>If the remote function module performs interactive tasks such as processing lists or dynpros, screens are displayed until the calling program terminates. If the remote call is made in debugging mode, this mode is visible until the caller dialog is terminated.</p>
<p><strong>Note</strong></p>
<p>You should use the addition KEEPING TASK only if you want to re-use the current remote context for a subsequent asynchronous call.</p>
<p>Keeping a remote context increases storage load and decreases performance due to additional roll area management in the system.</p>
<p>在实际业务中使用aRFC做并行处理，可参考以下的设计思路，即首先要确定分包的大小，分好package后，调用aRFC并行处理。几个重要的参数：</p>
<ul>
<li>gt_package 一般用于分包的存储，一般由两部分构成，即task_name和keys；</li>
<li>gt_result, 用于结果的接收；</li>
<li>gv_snd_jobs , 用于记录发送的job数量；</li>
<li>gv_rcv_jobs, 用于记录已经接收的job数量；</li>
<li>gv_pp_running, 用于记录正在运行的job数量，控制负载。</li>
</ul>
<p><strong>注意：aRFC无法保证每一个任务的调用顺序</strong></p>
<h3 id="事务RFC-（tRFC-transactional-RFC）"><a href="#事务RFC-（tRFC-transactional-RFC）" class="headerlink" title="事务RFC （tRFC, transactional RFC）"></a>事务RFC （tRFC, transactional RFC）</h3><p>在使用事务RFC（ transactional RFC，tRFC）的时候，被调用的函数模块在被调用系统中正好运行一次（Exactly Once）。</p>
<p>远端系统不需要在RFC客户端程序运行tRFC的时候可用。tRFC组件将被调用的RFC函数和相关数据存储在SAP系统的数据库里，包含一个唯一的事务标识符（transaction identifier，TID）。</p>
<p>如果调用发送了，接收系统却是宕机状态，调用会保留在本地队列中一段时间。调用对话程序可以在不等待远程调用成功&#x2F;失败的情况下继续运行。如果接收系统在一段时间后仍然不可用，调用将被计划为后台作业运行。</p>
<p>tRFC使用后缀<code>IN BACKGROUND TASK</code>.</p>
<p>就和同步调用一样，参数 DESTINATION在远程系统定义了程序上下文。结果是，如果你对一个destination重复地调用一个函数（或者一次性调用多个函数），则可以在相同的上下文中访问被调用函数的全局数据。。</p>
<p>系统会在表<code>ARFCSSTATE</code>和表<code>ARFCSDATA</code>中记录远程连接请求和它们的全部参数值。你可以使用事务SM58来查看。当调用程序到达**<code>COMMIT WORK</code>**语句时，远程调用会被转发到给对方系统。</p>
<p>在两个**<code>COMMIT WORK</code>**之间，所有的拥有同一个<code>destination</code>的tRFC属于同一个逻辑单元（LUW）。</p>
<p>调用示例</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs ABAP">CALL FUNCTION Remotefunction IN BACKGROUND TASK.<br>DESTINATION...<br>EXPORTING...<br>TABLES...<br></code></pre></td></tr></table></figure>

<p>如果远程系统不可用，SAP系统会将报表RSARFCSE计划为后台作业，并将相关的事务ID作为变式，再进行处理。这个报表程序会重复地被调用，直到它成功地连接对方系统为止。</p>
<p>当被计划为后台作业时，RSARFCSE自动地以一个时间间隔运行（默认是每15分钟运行一次，最多尝试30次）。你可以通过增强程序SABP0000和SABP0003来自定义该时间间隔。</p>
<p>通过SM59配置destination，选择一个destination并且选择 编辑-&gt;TRFC选项，在这里定义连接尝试次数上限和重复连接尝试的时间间隔。</p>
<p><img src="https://raw.githubusercontent.com/Yan-Cam/blogPictureHost/main/image-20231027212409599.png" srcset="/unrpyc/img/loading.gif" lazyload alt="步骤一"></p>
<p><img src="https://raw.githubusercontent.com/Yan-Cam/blogPictureHost/main/image-20231027212454796.png" srcset="/unrpyc/img/loading.gif" lazyload alt="步骤二"></p>
<p>如果在尝试指定的次数后依然不可抵达相应的系统，系统会停止调用RSARFCSE，并写入状态CPICERR至表ARFCSDATA中。在另一个指定的时间后（默认是8天），在表ARFCSSTATE内的条目也会被删除。当然也可以定制这个时间，或者手动在SM59启动相应的事务条目。</p>
<p>tRFC的缺点：</p>
<ul>
<li>tRFC独立地处理所有LUW。根据激活的tRFC数量，程序有可能会显著地降低调用系统和被调用系统的性能。</li>
<li>此外，在应用中定义的LUW的调用顺序是不能得到保持的。因此无法保证事务会按照应用期望的顺序运行。tRFC唯一能保证的只有：所有LUW都会或早或晚地被传输。</li>
</ul>
<p><strong>注意：aRFC无法保证每一个任务的调用顺序</strong></p>
<h3 id="队列RFC-（qRFC-queue-d-RFC）"><a href="#队列RFC-（qRFC-queue-d-RFC）" class="headerlink" title="队列RFC （qRFC, queue(d) RFC）"></a>队列RFC （qRFC, queue(d) RFC）</h3><p>是tRFC的一个增强版本，它保证了所传输数据的处理次序，并可用于SAP-SAP及SAP-non SAP</p>
<p>相关信息可见：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://help.sap.com/viewer/753088fc00704d0a80e7fbd6803c8adb/7.5.10/en-US/489c48b92ab0062fe10000000a42189d.html">Queued Remote Function Call (qRFC)</a></li>
</ul>
<h3 id="并行RFC-（pRFC-parallel-RFC）"><a href="#并行RFC-（pRFC-parallel-RFC）" class="headerlink" title="并行RFC （pRFC, parallel RFC）"></a>并行RFC （pRFC, parallel RFC）</h3><p><img src="https://raw.githubusercontent.com/Yan-Cam/blogPictureHost/main/image-20231027223601855.png" srcset="/unrpyc/img/loading.gif" lazyload alt="各种RFC的区别"></p>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div></div>
      <div>https://yan-cam.github.io/unrpyc/2023/10/25/RFC调用/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>unrpyc</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2023年10月25日</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>许可协议</div>
          <div>
            
              
              
                <a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - 署名">
                    <i class="iconfont icon-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/unrpyc/2023/10/26/soap%E5%8D%8F%E8%AE%AE/" title="RFC使用的SOAP协议">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">RFC使用的SOAP协议</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/unrpyc/2023/10/11/SAP%E5%A2%9E%E5%BC%BA/" title="SAP增强">
                        <span class="hidden-mobile">SAP增强</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>目录</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
    <div class="statistics">
  
  

  
    
      <span id="busuanzi_container_site_pv" style="display: none">
        总访问量 
        <span id="busuanzi_value_site_pv"></span>
         次
      </span>
    
    
      <span id="busuanzi_container_site_uv" style="display: none">
        总访客数 
        <span id="busuanzi_value_site_uv"></span>
         人
      </span>
    
    
  
</div>

  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/unrpyc/js/events.js" ></script>
<script  src="/unrpyc/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/unrpyc/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/unrpyc/js/local-search.js" ></script>

  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/unrpyc/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
